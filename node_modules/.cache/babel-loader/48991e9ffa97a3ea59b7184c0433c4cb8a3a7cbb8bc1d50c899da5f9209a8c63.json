{"ast":null,"code":"import _toConsumableArray from\"D:/site/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useEffect}from'react';import\"./styles/app.css\";import PostList from'./components/PostList';import PostForm from'./components/PostForm';import Login from'./components/Login';import MyButton from'./components/UI/button/mybutton.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState({login:'',password:\"\"}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(JSON.parse(localStorage.getItem('boollog:'))|false),_useState6=_slicedToArray(_useState5,2),islogin=_useState6[0],setLogin=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isPopupOpen=_useState8[0],setPopupOpen=_useState8[1];useEffect(function(){setUser(JSON.parse(localStorage.getItem('lastuser:')));var stringuser=localStorage.getItem('lastuser:');if(stringuser){var _user=JSON.parse(stringuser);getPosts(_user);}},[]);var getPosts=function getPosts(returneduser){var SavedPosts=null;if(returneduser)SavedPosts=localStorage.getItem(JSON.stringify(returneduser));// берем элемент из стораж\nif(SavedPosts)setPosts(JSON.parse(SavedPosts));// парсим в строку все объекты\nelse setPosts([]);};var savePosts=function savePosts(posts){if(user)localStorage.setItem(JSON.stringify(user),JSON.stringify(posts));// кладем элемент в стораж\n};var createPost=function createPost(newPost){if(newPost.title!==''){setPosts([].concat(_toConsumableArray(posts),[newPost]));// задаем все элементы\nsavePosts([].concat(_toConsumableArray(posts),[newPost]));// сохраняем все и последний\n}console.log(posts);};var removePost=function removePost(post){setPosts(posts.filter(function(p){return p.id!==post.id;}));// задаем\nsavePosts(posts.filter(function(p){return p.id!==post.id;}));// сохраняем\nconsole.log(posts);};var WrongPassword=function WrongPassword(){alert('Неправильный пароль');};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[!isPopupOpen?/*#__PURE__*/_jsx(MyButton,{onClick:function onClick(){return setPopupOpen(true);},children:\"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u043E\\u043A\\u043D\\u043E \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\"}):/*#__PURE__*/_jsx(MyButton,{onClick:function onClick(){return setPopupOpen(false);},children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043E\\u043A\\u043D\\u043E \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\"}),/*#__PURE__*/_jsx(Login,{L:islogin,SL:setLogin,AccessAllowed:getPosts,AccessRestricted:WrongPassword,onLogin:function onLogin(user){return setUser(user);},isOpen:isPopupOpen,onClose:function onClose(){return setPopupOpen(false);}}),/*#__PURE__*/_jsx(PostForm,{create:createPost}),posts.length!==0?/*#__PURE__*/_jsx(PostList,{add:setPosts,remove:removePost,posts:posts,title:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0434\\u0435\\u043B\"}):/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:'cursive',textAlign:'center'},children:\"\\u0414\\u0435\\u043B \\u043D\\u0435\\u0442\"})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","PostList","PostForm","Login","MyButton","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","posts","setPosts","_useState3","login","password","_useState4","user","setUser","_useState5","JSON","parse","localStorage","getItem","_useState6","islogin","setLogin","_useState7","_useState8","isPopupOpen","setPopupOpen","stringuser","getPosts","returneduser","SavedPosts","stringify","savePosts","setItem","createPost","newPost","title","concat","_toConsumableArray","console","log","removePost","post","filter","p","id","WrongPassword","alert","className","children","onClick","L","SL","AccessAllowed","AccessRestricted","onLogin","isOpen","onClose","create","length","add","remove","style","fontFamily","textAlign"],"sources":["D:/site/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport \"./styles/app.css\"\r\nimport PostList from './components/PostList';\r\nimport PostForm from './components/PostForm';\r\nimport Login from './components/Login';\r\nimport MyButton from './components/UI/button/mybutton.jsx';\r\n\r\nfunction App() {\r\n\r\n    const [posts, setPosts] = useState([]);\r\n    const [user, setUser] = useState({ login: '', password: \"\" });\r\n    const [islogin, setLogin] = useState(JSON.parse(localStorage.getItem('boollog:')) | false);\r\n    const [isPopupOpen, setPopupOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setUser(JSON.parse(localStorage.getItem('lastuser:')));\r\n        const stringuser = localStorage.getItem('lastuser:');\r\n        if (stringuser) {\r\n            const user = JSON.parse(stringuser);\r\n            getPosts(user);\r\n        }\r\n    }, []);\r\n\r\n    const getPosts = (returneduser) => {\r\n        let SavedPosts = null;\r\n        if (returneduser)\r\n            SavedPosts = localStorage.getItem(JSON.stringify(returneduser)); // берем элемент из стораж\r\n        if (SavedPosts)\r\n            setPosts(JSON.parse(SavedPosts)); // парсим в строку все объекты\r\n        else\r\n            setPosts([]);\r\n    }\r\n\r\n    const savePosts = (posts) => {\r\n        if (user)\r\n            localStorage.setItem(JSON.stringify(user), JSON.stringify(posts)); // кладем элемент в стораж\r\n    }\r\n\r\n    const createPost = (newPost) => {\r\n        if (newPost.title !== '') {\r\n            setPosts([...posts, newPost]) // задаем все элементы\r\n            savePosts([...posts, newPost]); // сохраняем все и последний\r\n        }\r\n        console.log(posts);\r\n    }\r\n\r\n    const removePost = (post) => {\r\n        setPosts(posts.filter(p => p.id !== post.id)); // задаем\r\n        savePosts(posts.filter(p => p.id !== post.id)); // сохраняем\r\n        console.log(posts);\r\n    }\r\n\r\n    const WrongPassword = () => {\r\n        alert('Неправильный пароль');\r\n    }\r\n    \r\n    return (\r\n        <div className=\"App\">\r\n            {\r\n                !isPopupOpen\r\n                    ? <MyButton onClick={() => setPopupOpen(true)}>Открыть окно регистрации</MyButton>\r\n                    : <MyButton onClick={() => setPopupOpen(false)}>Закрыть окно регистрации</MyButton>\r\n            }\r\n\r\n            <Login L={islogin} SL={setLogin} AccessAllowed={getPosts} AccessRestricted={WrongPassword}\r\n                onLogin={(user) => setUser(user)} isOpen={isPopupOpen} onClose={() => setPopupOpen(false)} />\r\n            <PostForm create={createPost} />\r\n            {\r\n                posts.length !== 0\r\n                    ?\r\n                    <PostList add={setPosts} remove={removePost} posts={posts} title=\"Список дел\" />\r\n                    :\r\n                    <h1 style={{ fontFamily: 'cursive', textAlign: 'center' }}>\r\n                        Дел нет\r\n                    </h1>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}